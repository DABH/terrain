"SELECT DISTINCT u.uid as bb_uid, u.total_point\nFROM usprofile_babysitter u\nINNER JOIN usprofile u2 ON u.uid = u2.uid\nINNER JOIN users u3 ON u.uid = u3.uid\nINNER JOIN babysitter_location bl ON u.uid = bl.babysitter_uid\nINNER JOIN us_location b_l ON bl.location_id = b_l.id AND b_l.name = :city AND b_l.state = :state\nWHERE (u.max_kids IS NULL OR u.max_kids = 0 OR u.max_kids >= 1)\nAND (u.hidden_flag = 0 AND u3.status > 0)\n\nSELECT b.babysitter_uid as uid\nFROM booking_availability b\nWHERE (\nb.recur_until IS NULL\nAND b.start_date <= :dt_start\nAND b.end_date >= :dt_end\n)\n\nSELECT\nbabysitter_uid as uid\nFROM\nbooking\nWHERE\n(status IN('accepted', 'pending') AND start_date < :ending AND end_date > :beginning) OR\n(status IN('parent_reschedule', 'sitter_reschedule') AND proposed_start_date < :ending AND proposed_end_date > :beginning)\n\nSELECT\nDISTINCT u.uid\nFROM usprofile_babysitter u\nLEFT OUTER JOIN us_social_graph_cache gc ON gc.uid = :parent_uid\nAND (gc.action = 'Booked' OR gc.action = 'Reviewed') AND gc.friend_uid = u.uid\nINNER JOIN babysitter_location bl ON u.uid = bl.babysitter_uid\nINNER JOIN us_location b_l ON bl.location_id = b_l.id\nAND b_l.name = :city AND b_l.state = :state\nWHERE\nu.accept_existing_parents_only <> 0 AND gc.action IS NULL\n\nSELECT\nDISTINCT babysitter_uid AS uid\nFROM parent_review\nWHERE parent_uid = :parent_uid\nAND vote < 60\n\nSELECT DISTINCT babysitter_uid AS uid\nFROM babysitter_bookmark\nWHERE parent_uid = :parent_uid\nAND bookmark_type = :type\n\nSELECT\nbp.uid as bb_uid,\nbp.uid as uid,\nu.access,\nIF (\n(\nSUM( IF(gs.grouping_id = 1 AND gs.points_sum >= pt.point_threshold, 1, 0)) +\nSUM( IF(gs.grouping_id = 2 AND gs.points_sum >= pt.point_threshold, 1, 0)) +\nSUM( IF(gs.grouping_id = 3 AND gs.points_sum >= pt.point_threshold, 1, 0)) +\nSUM( IF(gs.grouping_id = 4 AND gs.points_sum >= pt.point_threshold, 1, 0))\n) = 4, 1, 0\n) as tier,\ngroup_concat(gs.grouping_id) as point_group_ids,\ngroup_concat(gs.points_sum) as point_sums,\ngroup_concat(pt.grouping_id) as threshold_group_ids,\ngroup_concat(pt.point_threshold) as point_thresholds,\nbp.total_point\nFROM usprofile_babysitter bp\nINNER JOIN users u ON u.uid = bp.uid\nLEFT JOIN us_sitter_point_grouping_sum gs ON gs.sitter_uid = bp.uid\nLEFT JOIN us_search_context_grouping_threshold pt ON pt.grouping_id = gs.grouping_id\nAND pt.search_context_id = :context_id\nWHERE u.uid IN ($uidsStr)\nGROUP BY bp.uid\nORDER BY bp.total_point DESC"